"use strict";(self.webpackChunkinmobitas_client=self.webpackChunkinmobitas_client||[]).push([[48],{991:function(n,e,t){t(7313);var r=t(7908),i=t(6417);e.Z=function(n){var e=n.icon,t=n.onClick,o=n.color;return(0,i.jsx)(r.Z,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"1px solid #EDEFF5",onClick:t,height:"100%",width:"100%",children:(0,i.jsx)(e,{color:o})})}},7403:function(n,e,t){var r=t(5861),i=t(4942),o=t(1413),u=t(9439),c=t(7757),s=t.n(c),a=t(7313),l=t(7890),d=t(6352),f=t(2682),h=t(7908),g=t(6267),p=t(5611),v=t(6020),Z=t(3202),w=t(2649),x=t(9502),m=t(5818),j=t(1837),k=t(3819),b=t(3320),I=t(5110),E=t(2497),P=t(8408),C=t(8474),S=t(9873),T=t(991),y=t(5997),H=t(8710),L=t(6417);e.Z=function(n){var e=n.source,t=n.setSource,c=n.labels,A=n.detailRouteStructure,M=n.editRouteStructure,R=n.deleteBaseUrl,W=(0,l.s0)(),U=(0,a.useRef)(null),z=(0,E.Z)(U),O=(0,d.v9)(f.vn),X=(0,a.useState)(null),_=(0,u.Z)(X,2),B=_[0],F=_[1],N=(0,a.useState)(),Y=(0,u.Z)(N,2),D=Y[0],G=Y[1],$=(0,a.useRef)(null);(0,C.Z)($,(function(){return F(null)}));var q=(0,P.Z)(),J=(0,a.useMemo)((function(){return e.map((function(n){return Object.keys(n).reduce((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},(0,i.Z)({},t,n[t]))}),{})}))}),[e]),K=(0,a.useMemo)((function(){return e.length?Object.keys(e[0]).filter((function(n){return!n.includes("Id")})).map((function(n,e){return{Header:c[e],accessor:n}})):[]}),[e]),Q=(0,I.useTable)({columns:K,data:J,initialState:{pageIndex:0}},I.usePagination),V=Q.getTableProps,nn=Q.headerGroups,en=Q.prepareRow,tn=Q.page,rn=Q.pageCount,on=Q.state,un=Q.setPageSize,cn=Q.previousPage,sn=Q.nextPage,an=Q.gotoPage,ln=function(){var n=(0,r.Z)(s().mark((function n(r,i,o){var u,c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.Z.delete("".concat(R,"/").concat(r,"/").concat(i));case 2:u=n.sent,c=e.filter((function(n){return n[o]!==u.data})),t(c),F(null);case 6:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}();(0,a.useEffect)((function(){if(z){var n=(0,H.b)(z,64);n>0&&un(n)}}),[z]);return(0,L.jsxs)(h.Z,{children:[(0,L.jsxs)(g.Z,(0,o.Z)((0,o.Z)({flex:1},V()),{},{children:[(0,L.jsxs)(p.Z,{display:"flex",userSelect:"none",children:[nn.map((function(n){return n.headers.map((function(n,e){return(0,L.jsx)(v.Z,(0,o.Z)((0,o.Z)({flex:.45},n.getHeaderProps()),{},{children:n.render("Header")}))}))})),(0,L.jsx)(v.Z,{flex:.3})]}),(0,L.jsx)(Z.Z,{ref:U,height:z,children:tn.map((function(n,t){var r=Object.keys(n.original).find((function(n){return n.includes("Id")}));return en(n),(0,L.jsxs)(w.Z,(0,o.Z)((0,o.Z)({isHighlighted:B===t,color:"#3a3e58",display:"flex",cursor:"pointer",onMouseOver:"desktop"===q?function(){return F(t)}:void 0,onMouseLeave:"desktop"===q?function(){return F(null)}:void 0,onTouchStart:"touchscreen"===q?function(){G(setTimeout((function(){return F(t)}),500))}:void 0,onTouchEnd:"touchscreen"===q?function(){clearTimeout(D)}:void 0,onTouchMove:"touchscreen"===q?function(){clearTimeout(D)}:void 0,onClick:function(){"touchscreen"===q?B?F(null):W((0,S.UM)(e[t],A)):W((0,S.UM)(tn[t],A))}},n.getRowProps()),{},{children:[n.cells.map((function(e,t){return(0,L.jsx)(x.Z,{flex:.45,paddingX:t===n.cells.length-1?0:12,children:(0,L.jsx)(m.Z,{children:e.render("Cell")})},"item-prop-".concat(t))})),(0,L.jsx)(x.Z,{flex:.3,paddingX:0,children:t===B&&(0,L.jsxs)(h.Z,{ref:$,display:"flex",width:"100%",height:"100%",children:[(0,L.jsx)(T.Z,{icon:j.d,onClick:function(n){n.stopPropagation(),W((0,S.UM)(tn[t],M))}}),(0,L.jsx)(T.Z,{icon:k.a,color:"danger",onClick:function(e){e.stopPropagation(),ln(O,n.original[r],r)}})]})})]}))}))})]})),(0,L.jsx)(h.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,L.jsx)(b.Z,{margin:"auto",page:on.pageIndex+1,totalPages:rn,onNextPage:sn,onPreviousPage:cn,onPageChange:function(n){return an(n-1)}})})]})}},8710:function(n,e,t){t.d(e,{b:function(){return r}});var r=function(n,e){return Math.floor(n/e)}},2201:function(n,e,t){t(7313);var r=t(7908),i=t(6228),o=t(8225),u=t(9466),c=t(7202),s=t(6417);e.Z=function(n){var e=n.messageText,t=n.linkText,a=n.url,l=(0,c.Z)(),d=l.windowInnerWidth,f=l.windowInnerHeight;return(0,s.jsx)(r.Z,{position:"absolute",display:"flex",justifyContent:"center",top:f/2,left:0,paddingX:(0,i.Z)(4),width:d,children:(0,s.jsxs)(o.Z,{is:"h1",color:"#474d66",children:[e,t&&a&&(0,s.jsx)(u.rU,{to:a,className:"link blue",children:t})]})})}},497:function(n,e,t){t.d(e,{Il:function(){return o},YC:function(){return r},ub:function(){return i}});var r=992,i=768,o=480},8474:function(n,e,t){var r=t(7313);e.Z=function(n,e){(0,r.useEffect)((function(){var t=function(t){var r;console.log("clicked!"),!t.target.isConnected||null!==n&&void 0!==n&&null!==(r=n.current)&&void 0!==r&&r.contains(t.target)||e()};return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}}),[e,n])}},8408:function(n,e){e.Z=function(){return"ontouchstart"in document.documentElement?"touchscreen":"desktop"}},2497:function(n,e,t){var r=t(9439),i=t(7313);e.Z=function(n,e){var t,o=(0,i.useState)(),u=(0,r.Z)(o,2),c=u[0],s=u[1],a=function(){if(null!==n&&void 0!==n&&n.current){var t,r=0;r=window.innerHeight-(null===(t=n.current)||void 0===t?void 0:t.offsetTop)-1,e&&(r-=e),s(r-70)}};return(0,i.useEffect)((function(){return a(),window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),(0,i.useEffect)((function(){a()}),[null===(t=n.current)||void 0===t?void 0:t.offsetTop]),c}},7202:function(n,e,t){var r=t(9439),i=t(7313);e.Z=function(){var n=(0,i.useState)({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight}),e=(0,r.Z)(n,2),t=e[0],o=e[1];return(0,i.useEffect)((function(){return window.addEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})})),function(){window.removeEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})}))}}),[]),t}},5048:function(n,e,t){t.r(e);var r=t(3433),i=t(5861),o=t(9439),u=t(7757),c=t.n(u),s=t(7313),a=t(6352),l=t(7908),d=t(4511),f=t(7202),h=t(5997),g=t(2682),p=t(7403),v=(t(8435),t(497)),Z=t(6174),w=t(2201),x=t(6417);e.default=function(){var n=(0,s.useState)([]),e=(0,o.Z)(n,2),t=e[0],u=e[1],m=(0,s.useState)(!1),j=(0,o.Z)(m,2),k=j[0],b=j[1],I=(0,a.v9)(g.vn),E=(0,d.$)(["listing","ui"]).t,P=(0,f.Z)(),C=P.windowInnerWidth;P.windowInnerHeight;return(0,s.useEffect)((function(){(0,i.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h.Z.get("/listings/".concat(I));case 3:(e=n.sent).data.length?u(e.data):b(!0),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[]),(0,x.jsxs)(l.Z,{children:[k&&(0,x.jsx)(w.Z,{messageText:E("noListings",{ns:"ui"})+", ",linkText:E("startAddingOne",{ns:"ui"}),url:"/newlisting"}),t.length?(0,x.jsx)(p.Z,{source:C>v.Il?t:(0,Z.A)(t),setSource:u,labels:[E("district"),E("neighborhood")].concat((0,r.Z)(C>v.Il?[E("totalArea")+" m\xb2",E("builtArea")+" m\xb2"]:[])),detailRouteStructure:["listingdetail","clientId","estateId"],editRouteStructure:["editlisting","clientId","estateId"],deleteBaseUrl:"/listings"}):""]})}},6174:function(n,e,t){t.d(e,{A:function(){return u}});var r=t(1413),i=t(5987),o=["totalArea","builtArea"],u=function(n){return n.map((function(n){n.totalArea,n.builtArea;var e=(0,i.Z)(n,o);return(0,r.Z)({},e)}))}},5997:function(n,e,t){t.d(e,{Y:function(){return c}});var r=t(1881),i=t.n(r),o=t(460),u=t(8121),c={withCredentials:!0,baseURL:"https://localhost:3001/"},s=i().create(c);s.interceptors.response.use((function(n){return n}),(function(n){return n.response.data.authorizationError&&o.h.dispatch((0,u.P_)()),Promise.reject(n)})),e.Z=s},8435:function(){}}]);