"use strict";(self.webpackChunkinmobitas_client=self.webpackChunkinmobitas_client||[]).push([[450],{8450:function(n,e,t){t.r(e),t.d(e,{default:function(){return y}});var i=t(3433),r=t(5861),o=t(9439),c=t(7757),a=t.n(c),u=t(7313),l=t(6352),s=t(4511),d=t(7890),f=t(7908),h=t(7202),g=t(5997),v=t(2682),p=t(9873),Z=t(6267),x=t(3202),w=t(2649),m=t(9502),j=t(7403),b=t(8225),P=t(6417);var S=function(n){var e,t=n.type,i=n.children;return(0,P.jsx)(b.Z,{is:t,size:800,margin:20,fontWeight:(e=t,"h1"===e?800:500),children:i})},k=t(497),C=t(6174),y=function(n){var e=n.clientData,t=(0,s.$)(["client","listing"]).t,c=(0,u.useState)([]),b=(0,o.Z)(c,2),y=b[0],E=b[1],I=(0,u.useState)([{label:t("contactPhone",{ns:"client"}),content:(null===e||void 0===e?void 0:e.clientContactPhone)||""},{label:t("clientAge",{ns:"client"}),content:(null===e||void 0===e?void 0:e.clientAge)||""},{label:t("clientDetails",{ns:"client"}),content:(null===e||void 0===e?void 0:e.clientDetails)||""}]),H=(0,o.Z)(I,1)[0],A=(0,l.v9)(v.vn),M=(0,d.UO)(),T=(0,h.Z)().windowInnerWidth;return(0,u.useEffect)((function(){(0,r.Z)(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.get("/listings/".concat(A,"/").concat(M.clientid));case 3:e=n.sent,E(e.data),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),new Error("there was an error, ".concat(n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[]),(0,P.jsxs)("div",{children:[e&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(S,{type:"h1",children:(0,p.Q6)(e.clientName)}),(0,P.jsx)(Z.Z,{children:(0,P.jsx)(x.Z,{children:H.map((function(n,e){return(0,P.jsxs)(w.Z,{children:[(0,P.jsx)(m.Z,{children:n.label}),(0,P.jsx)(m.Z,{children:n.content})]},"row-".concat(e))}))})})]}),(0,P.jsxs)(f.Z,{overflow:"scroll",borderColor:"black",children:[(0,P.jsx)(S,{type:"h2",children:t("estates",{ns:"listing"})}),y&&(0,P.jsx)(j.Z,{source:T>k.SJ?y:(0,C.A)(y),setSource:E,labels:[t("district",{ns:"listing"}),t("neighborhood",{ns:"listing"})].concat((0,i.Z)(T>k.SJ?[t("totalArea",{ns:"listing"})+" m\xb2",t("builtArea",{ns:"listing"})+" m\xb2"]:[])),detailRouteStructure:["listingdetail","clientId","estateId"],editRouteStructure:["editlisting","clientId","estateId"],deleteBaseUrl:"/listings"})]})]})}},991:function(n,e,t){t(7313);var i=t(7908),r=t(6417);e.Z=function(n){var e=n.icon,t=n.onClick,o=n.color;return(0,r.jsx)(i.Z,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"1px solid #EDEFF5",onClick:t,height:"100%",width:"100%",children:(0,r.jsx)(e,{color:o})})}},7403:function(n,e,t){var i=t(5861),r=t(4942),o=t(1413),c=t(9439),a=t(7757),u=t.n(a),l=t(7313),s=t(7890),d=t(6352),f=t(2682),h=t(7908),g=t(6267),v=t(5611),p=t(6020),Z=t(3202),x=t(2649),w=t(9502),m=t(5818),j=t(1837),b=t(3819),P=t(5110),S=t(2497),k=t(8408),C=t(8474),y=t(9873),E=t(991),I=t(5997),H=t(9958),A=t(8710),M=t(6417);e.Z=function(n){var e=n.source,t=n.setSource,a=n.labels,T=n.detailRouteStructure,W=n.editRouteStructure,L=n.deleteBaseUrl,R=(0,s.s0)(),z=(0,l.useRef)(null),U=(0,S.Z)(z),O=(0,d.v9)(f.vn),X=(0,l.useState)(null),D=(0,c.Z)(X,2),F=D[0],J=D[1],N=(0,l.useState)(),B=(0,c.Z)(N,2),_=B[0],G=B[1],Q=(0,l.useRef)(null);(0,C.Z)(Q,(function(){return J(null)}));var Y=(0,k.Z)(),$=(0,l.useMemo)((function(){return e.map((function(n){return Object.keys(n).reduce((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},t,n[t]))}),{})}))}),[e]),q=(0,l.useMemo)((function(){return e.length?Object.keys(e[0]).filter((function(n){return!n.includes("Id")})).map((function(n,e){return{Header:a[e],accessor:n}})):[]}),[e]),K=(0,P.useTable)({columns:q,data:$,initialState:{pageIndex:0}},P.usePagination),V=K.getTableProps,nn=K.headerGroups,en=K.prepareRow,tn=K.page,rn=K.pageCount,on=K.state,cn=K.setPageSize,an=K.previousPage,un=K.nextPage,ln=K.gotoPage,sn=function(){var n=(0,i.Z)(u().mark((function n(i,r,o){var c,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.Z.delete("".concat(L,"/").concat(i,"/").concat(r));case 2:c=n.sent,a=e.filter((function(n){return n[o]!==c.data})),t(a),J(null);case 6:case"end":return n.stop()}}),n)})));return function(e,t,i){return n.apply(this,arguments)}}();(0,l.useEffect)((function(){if(U){var n=(0,A.b)(U,64);n>0&&cn(n)}}),[U]);return(0,M.jsxs)(h.Z,{children:[(0,M.jsxs)(g.Z,(0,o.Z)((0,o.Z)({flex:1},V()),{},{children:[(0,M.jsxs)(v.Z,{display:"flex",userSelect:"none",children:[nn.map((function(n){return n.headers.map((function(n,e){return(0,M.jsx)(p.Z,(0,o.Z)((0,o.Z)({flex:.45},n.getHeaderProps()),{},{children:n.render("Header")}))}))})),(0,M.jsx)(p.Z,{flex:.3})]}),(0,M.jsx)(Z.Z,{ref:z,height:U,children:tn.map((function(n,t){var i=Object.keys(n.original).find((function(n){return n.includes("Id")}));return en(n),(0,M.jsxs)(x.Z,(0,o.Z)((0,o.Z)({isHighlighted:F===t,color:"#3a3e58",display:"flex",cursor:"pointer",onMouseOver:"desktop"===Y?function(){return J(t)}:void 0,onMouseLeave:"desktop"===Y?function(){return J(null)}:void 0,onTouchStart:"touchscreen"===Y?function(){G(setTimeout((function(){return J(t)}),500))}:void 0,onTouchEnd:"touchscreen"===Y?function(){clearTimeout(_)}:void 0,onTouchMove:"touchscreen"===Y?function(){clearTimeout(_)}:void 0,onClick:function(){"touchscreen"===Y?F?J(null):R((0,y.UM)(e[t],T)):R((0,y.UM)(tn[t],T))}},n.getRowProps()),{},{children:[n.cells.map((function(e,t){return(0,M.jsx)(w.Z,{flex:.45,paddingX:t===n.cells.length-1?0:12,children:(0,M.jsx)(m.Z,{children:e.render("Cell")})},"item-prop-".concat(t))})),(0,M.jsx)(w.Z,{flex:.3,paddingX:0,children:t===F&&(0,M.jsxs)(h.Z,{ref:Q,display:"flex",width:"100%",height:"100%",children:[(0,M.jsx)(E.Z,{icon:j.d,onClick:function(n){n.stopPropagation(),R((0,y.UM)(tn[t],W))}}),(0,M.jsx)(E.Z,{icon:b.a,color:"danger",onClick:function(e){e.stopPropagation(),sn(O,n.original[i],i)}})]})})]}))}))})]})),(0,M.jsx)(h.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,M.jsx)(H.Z,{page:on.pageIndex+1,totalPages:rn,onNextPage:un,onPreviousPage:an,onPageChange:function(n){return ln(n-1)}})})]})}},8710:function(n,e,t){t.d(e,{b:function(){return i}});var i=function(n,e){return Math.floor(n/e)}},9958:function(n,e,t){var i=t(1413),r=t(5987),o=t(7313),c=t(9525),a=t(5818),u=t(6228),l=t(2520),s=t(7908),d=t(618),f=t(8756),h=t(9964),g=t(6417),v=["isSelected","onPageChange","page"],p=function(n){var e=n.isSelected,t=n.onPageChange,s=n.page,d=(0,r.Z)(n,v),f=(0,c.Z)().colors,h="string"===typeof s&&"..."===s,p=(0,o.useMemo)((function(){return e?{backgroundColor:f.blue50,color:f.blue400}:{}}),[e,f]),Z=(0,o.useCallback)((function(){t(s)}),[s,t]);return h?(0,g.jsx)(a.Z,{paddingX:(0,u.Z)(1),paddingY:(0,u.Z)(1),minWidth:(0,u.Z)(4),textAlign:"center","aria-label":"Pagination overflow",children:s}):(0,g.jsx)(l.ZP,(0,i.Z)((0,i.Z)({"aria-current":e,"aria-label":"Page ".concat(s),onClick:Z,minWidth:(0,u.Z)(4),paddingX:(0,u.Z)(1)},p),d))};e.Z=function(n){var e=n.onNextPage,t=n.onPageChange,i=n.onPreviousPage,r=n.page,o=void 0===r?1:r,c=n.totalPages,a=function(n,e){for(var t=[],i=n;i<=e;i++)t.push(i);return t}(1,c);return(0,g.jsx)(s.Z,{is:"nav",children:(0,g.jsxs)(s.Z,{is:"ul",height:50,display:"flex",alignItems:"center",padding:0,margin:0,children:[(0,g.jsx)(s.Z,{is:"li",listStyle:"none",padding:0,children:(0,g.jsx)(d.Z,{appearance:"minimal",icon:f.w,disabled:1===o,onClick:i})}),a.map((function(n,e){var i=n===o;return(0,g.jsx)(s.Z,{is:"li",listStyle:"none",children:(0,g.jsx)(p,{appearance:"minimal",isSelected:i,page:n,onPageChange:t,children:n})},"".concat(o,"-").concat(e))})),(0,g.jsx)(s.Z,{is:"li",listStyle:"none",padding:0,children:(0,g.jsx)(d.Z,{appearance:"minimal",icon:h.X,disabled:c?o===c:void 0,onClick:e})})]})})}},497:function(n,e,t){t.d(e,{Fv:function(){return r},SJ:function(){return o},tH:function(){return i}});var i=992,r=768,o=480},8474:function(n,e,t){var i=t(7313);e.Z=function(n,e){(0,i.useEffect)((function(){var t=function(t){var i;console.log("clicked!"),!t.target.isConnected||null!==n&&void 0!==n&&null!==(i=n.current)&&void 0!==i&&i.contains(t.target)||e()};return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}}),[e,n])}},8408:function(n,e){e.Z=function(){return"ontouchstart"in document.documentElement?"touchscreen":"desktop"}},2497:function(n,e,t){var i=t(9439),r=t(7313);e.Z=function(n,e){var t,o=(0,r.useState)(),c=(0,i.Z)(o,2),a=c[0],u=c[1],l=function(){if(null!==n&&void 0!==n&&n.current){var t,i=0;i=window.innerHeight-(null===(t=n.current)||void 0===t?void 0:t.offsetTop)-1,null!==e&&void 0!==e&&e.extraSpace&&(i-=e.extraSpace),null!==e&&void 0!==e&&e.ignorePaginationSpace?u(i):u(i-50)}};return(0,r.useEffect)((function(){return l(),window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}}),[]),(0,r.useEffect)((function(){l()}),[null===(t=n.current)||void 0===t?void 0:t.offsetTop]),a}},7202:function(n,e,t){var i=t(9439),r=t(7313);e.Z=function(){var n=(0,r.useState)({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight}),e=(0,i.Z)(n,2),t=e[0],o=e[1];return(0,r.useEffect)((function(){return window.addEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})})),function(){window.removeEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})}))}}),[]),t}},6174:function(n,e,t){t.d(e,{A:function(){return c}});var i=t(1413),r=t(5987),o=["totalArea","builtArea"],c=function(n){return n.map((function(n){n.totalArea,n.builtArea;var e=(0,r.Z)(n,o);return(0,i.Z)({},e)}))}}}]);