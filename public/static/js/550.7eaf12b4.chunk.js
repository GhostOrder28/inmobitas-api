"use strict";(self.webpackChunkinmobitas_client=self.webpackChunkinmobitas_client||[]).push([[550],{550:function(n,e,t){t.r(e);var i=t(3433),r=t(5861),o=t(9439),c=t(7757),u=t.n(c),s=t(7313),l=t(6352),a=t(4511),d=t(7890),f=t(8225),h=t(7908),g=t(7202),Z=t(5997),v=t(2682),x=t(9873),p=t(6267),w=t(3202),j=t(2649),m=t(9502),b=t(7403),k=t(497),I=t(6174),P=t(6417);e.default=function(n){var e=n.clientData,t=(0,s.useState)([]),c=(0,o.Z)(t,2),C=c[0],E=c[1],S=(0,l.v9)(v.vn),y=(0,d.UO)(),H=(0,a.$)(["client","listing"]).t,A=(0,g.Z)().windowInnerWidth;return(0,s.useEffect)((function(){(0,r.Z)(u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.Z.get("/listings/".concat(S,"/").concat(y.clientid));case 3:e=n.sent,E(e.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[]),(0,P.jsxs)("div",{children:[e&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(f.Z,{is:"h1",size:800,margin:20,children:(0,x.Q6)(e.clientName)}),(0,P.jsx)(p.Z,{children:(0,P.jsxs)(w.Z,{children:[(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(m.Z,{children:H("contactPhone",{ns:"client"})}),(0,P.jsx)(m.Z,{children:e.clientContactPhone})]}),(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(m.Z,{children:H("clientAge",{ns:"client"})}),(0,P.jsx)(m.Z,{children:e.clientAge})]}),(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(m.Z,{children:H("clientDetails",{ns:"client"})}),(0,P.jsx)(m.Z,{children:e.clientDetails})]})]})})]}),(0,P.jsxs)(h.Z,{overflow:"scroll",borderColor:"black",children:[(0,P.jsx)(f.Z,{is:"h2",size:700,fontWeight:500,margin:20,children:H("estates",{ns:"listing"})}),C&&(0,P.jsx)(b.Z,{source:A>k.Il?C:(0,I.A)(C),setSource:E,labels:[H("district",{ns:"listing"}),H("neighborhood",{ns:"listing"})].concat((0,i.Z)(A>k.Il?[H("totalArea",{ns:"listing"})+" m\xb2",H("builtArea",{ns:"listing"})+" m\xb2"]:[])),detailRouteStructure:["listingdetail","clientId","estateId"],editRouteStructure:["editlisting","clientId","estateId"],deleteBaseUrl:"/listings"})]})]})}},991:function(n,e,t){t(7313);var i=t(7908),r=t(6417);e.Z=function(n){var e=n.icon,t=n.onClick,o=n.color;return(0,r.jsx)(i.Z,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"1px solid #EDEFF5",onClick:t,height:"100%",width:"100%",children:(0,r.jsx)(e,{color:o})})}},7403:function(n,e,t){var i=t(5861),r=t(4942),o=t(1413),c=t(9439),u=t(7757),s=t.n(u),l=t(7313),a=t(7890),d=t(6352),f=t(2682),h=t(7908),g=t(6267),Z=t(5611),v=t(6020),x=t(3202),p=t(2649),w=t(9502),j=t(5818),m=t(1837),b=t(3819),k=t(3320),I=t(5110),P=t(2497),C=t(8408),E=t(8474),S=t(9873),y=t(991),H=t(5997),A=t(8710),T=t(6417);e.Z=function(n){var e=n.source,t=n.setSource,u=n.labels,M=n.detailRouteStructure,L=n.editRouteStructure,R=n.deleteBaseUrl,W=(0,a.s0)(),z=(0,l.useRef)(null),U=(0,P.Z)(z),O=(0,d.v9)(f.vn),D=(0,l.useState)(null),F=(0,c.Z)(D,2),B=F[0],N=F[1],X=(0,l.useState)(),_=(0,c.Z)(X,2),G=_[0],Q=_[1],Y=(0,l.useRef)(null);(0,E.Z)(Y,(function(){return N(null)}));var $=(0,C.Z)(),q=(0,l.useMemo)((function(){return e.map((function(n){return Object.keys(n).reduce((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},t,n[t]))}),{})}))}),[e]),J=(0,l.useMemo)((function(){return e.length?Object.keys(e[0]).filter((function(n){return!n.includes("Id")})).map((function(n,e){return{Header:u[e],accessor:n}})):[]}),[e]),K=(0,I.useTable)({columns:J,data:q,initialState:{pageIndex:0}},I.usePagination),V=K.getTableProps,nn=K.headerGroups,en=K.prepareRow,tn=K.page,rn=K.pageCount,on=K.state,cn=K.setPageSize,un=K.previousPage,sn=K.nextPage,ln=K.gotoPage,an=function(){var n=(0,i.Z)(s().mark((function n(i,r,o){var c,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.Z.delete("".concat(R,"/").concat(i,"/").concat(r));case 2:c=n.sent,u=e.filter((function(n){return n[o]!==c.data})),t(u),N(null);case 6:case"end":return n.stop()}}),n)})));return function(e,t,i){return n.apply(this,arguments)}}();(0,l.useEffect)((function(){if(U){var n=(0,A.b)(U,64);n>0&&cn(n)}}),[U]);return(0,T.jsxs)(h.Z,{children:[(0,T.jsxs)(g.Z,(0,o.Z)((0,o.Z)({flex:1},V()),{},{children:[(0,T.jsxs)(Z.Z,{display:"flex",userSelect:"none",children:[nn.map((function(n){return n.headers.map((function(n,e){return(0,T.jsx)(v.Z,(0,o.Z)((0,o.Z)({flex:.45},n.getHeaderProps()),{},{children:n.render("Header")}))}))})),(0,T.jsx)(v.Z,{flex:.3})]}),(0,T.jsx)(x.Z,{ref:z,height:U,children:tn.map((function(n,t){var i=Object.keys(n.original).find((function(n){return n.includes("Id")}));return en(n),(0,T.jsxs)(p.Z,(0,o.Z)((0,o.Z)({isHighlighted:B===t,color:"#3a3e58",display:"flex",cursor:"pointer",onMouseOver:"desktop"===$?function(){return N(t)}:void 0,onMouseLeave:"desktop"===$?function(){return N(null)}:void 0,onTouchStart:"touchscreen"===$?function(){Q(setTimeout((function(){return N(t)}),500))}:void 0,onTouchEnd:"touchscreen"===$?function(){clearTimeout(G)}:void 0,onTouchMove:"touchscreen"===$?function(){clearTimeout(G)}:void 0,onClick:function(){"touchscreen"===$?B?N(null):W((0,S.UM)(e[t],M)):W((0,S.UM)(tn[t],M))}},n.getRowProps()),{},{children:[n.cells.map((function(e,t){return(0,T.jsx)(w.Z,{flex:.45,paddingX:t===n.cells.length-1?0:12,children:(0,T.jsx)(j.Z,{children:e.render("Cell")})},"item-prop-".concat(t))})),(0,T.jsx)(w.Z,{flex:.3,paddingX:0,children:t===B&&(0,T.jsxs)(h.Z,{ref:Y,display:"flex",width:"100%",height:"100%",children:[(0,T.jsx)(y.Z,{icon:m.d,onClick:function(n){n.stopPropagation(),W((0,S.UM)(tn[t],L))}}),(0,T.jsx)(y.Z,{icon:b.a,color:"danger",onClick:function(e){e.stopPropagation(),an(O,n.original[i],i)}})]})})]}))}))})]})),(0,T.jsx)(h.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,T.jsx)(k.Z,{margin:"auto",page:on.pageIndex+1,totalPages:rn,onNextPage:sn,onPreviousPage:un,onPageChange:function(n){return ln(n-1)}})})]})}},8710:function(n,e,t){t.d(e,{b:function(){return i}});var i=function(n,e){return Math.floor(n/e)}},497:function(n,e,t){t.d(e,{Il:function(){return o},YC:function(){return i},ub:function(){return r}});var i=992,r=768,o=480},8474:function(n,e,t){var i=t(7313);e.Z=function(n,e){(0,i.useEffect)((function(){var t=function(t){var i;console.log("clicked!"),!t.target.isConnected||null!==n&&void 0!==n&&null!==(i=n.current)&&void 0!==i&&i.contains(t.target)||e()};return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}}),[e,n])}},8408:function(n,e){e.Z=function(){return"ontouchstart"in document.documentElement?"touchscreen":"desktop"}},2497:function(n,e,t){var i=t(9439),r=t(7313);e.Z=function(n,e){var t,o=(0,r.useState)(),c=(0,i.Z)(o,2),u=c[0],s=c[1],l=function(){if(null!==n&&void 0!==n&&n.current){var t,i=0;i=window.innerHeight-(null===(t=n.current)||void 0===t?void 0:t.offsetTop)-1,e&&(i-=e),s(i-70)}};return(0,r.useEffect)((function(){return l(),window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}}),[]),(0,r.useEffect)((function(){l()}),[null===(t=n.current)||void 0===t?void 0:t.offsetTop]),u}},7202:function(n,e,t){var i=t(9439),r=t(7313);e.Z=function(){var n=(0,r.useState)({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight}),e=(0,i.Z)(n,2),t=e[0],o=e[1];return(0,r.useEffect)((function(){return window.addEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})})),function(){window.removeEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})}))}}),[]),t}},6174:function(n,e,t){t.d(e,{A:function(){return c}});var i=t(1413),r=t(5987),o=["totalArea","builtArea"],c=function(n){return n.map((function(n){n.totalArea,n.builtArea;var e=(0,r.Z)(n,o);return(0,i.Z)({},e)}))}}}]);