"use strict";(self.webpackChunkinmobitas_client=self.webpackChunkinmobitas_client||[]).push([[48],{991:function(n,e,t){t(7313);var r=t(7908),i=t(6417);e.Z=function(n){var e=n.icon,t=n.onClick,o=n.color;return(0,i.jsx)(r.Z,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"1px solid #EDEFF5",onClick:t,height:"100%",width:"100%",children:(0,i.jsx)(e,{color:o})})}},7403:function(n,e,t){var r=t(5861),i=t(4942),o=t(1413),u=t(9439),c=t(7757),s=t.n(c),a=t(7313),l=t(7890),d=t(6352),f=t(2682),h=t(7908),p=t(6267),g=t(5611),w=t(6020),Z=t(3202),v=t(2649),x=t(9502),m=t(5818),j=t(1837),b=t(3819),k=t(3320),I=t(5110),P=t(2497),C=t(8408),S=t(9873),E=t(991),T=t(5997),H=t(8710),y=t(6417);e.Z=function(n){var e=n.source,t=n.setSource,c=n.labels,A=n.detailRouteStructure,L=n.editRouteStructure,M=n.deleteBaseUrl,R=(0,l.s0)(),W=(0,a.useRef)(null),z=(0,P.Z)(W),U=(0,d.v9)(f.vn),O=(0,a.useState)(null),F=(0,u.Z)(O,2),X=F[0],_=F[1],B=(0,a.useState)(),N=(0,u.Z)(B,2),Y=N[0],D=N[1],G=(0,C.Z)(),$=(0,a.useMemo)((function(){return e.map((function(n){return Object.keys(n).reduce((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},(0,i.Z)({},t,n[t]))}),{})}))}),[e]),q=(0,a.useMemo)((function(){return e.length?Object.keys(e[0]).filter((function(n){return!n.includes("Id")})).map((function(n,e){return{Header:c[e],accessor:n}})):[]}),[e]),J=(0,I.useTable)({columns:q,data:$,initialState:{pageIndex:0}},I.usePagination),K=J.getTableProps,Q=J.headerGroups,V=J.prepareRow,nn=J.page,en=J.pageCount,tn=J.state,rn=J.setPageSize,on=J.previousPage,un=J.nextPage,cn=J.gotoPage,sn=function(){var n=(0,r.Z)(s().mark((function n(r,i,o){var u,c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.Z.delete("".concat(M,"/").concat(r,"/").concat(i));case 2:u=n.sent,c=e.filter((function(n){return n[o]!==u.data})),t(c),_(null);case 6:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}();(0,a.useEffect)((function(){if(z){var n=(0,H.b)(z,64);n>0&&rn(n)}}),[z]);return(0,y.jsxs)(h.Z,{children:[(0,y.jsxs)(p.Z,(0,o.Z)((0,o.Z)({flex:1},K()),{},{children:[(0,y.jsxs)(g.Z,{display:"flex",userSelect:"none",children:[Q.map((function(n){return n.headers.map((function(n,e){return(0,y.jsx)(w.Z,(0,o.Z)((0,o.Z)({flex:.45},n.getHeaderProps()),{},{children:n.render("Header")}))}))})),(0,y.jsx)(w.Z,{flex:.3})]}),(0,y.jsx)(Z.Z,{ref:W,height:z,children:nn.map((function(n,t){var r=Object.keys(n.original).find((function(n){return n.includes("Id")}));return V(n),(0,y.jsxs)(v.Z,(0,o.Z)((0,o.Z)({isHighlighted:X===t,color:"#3a3e58",display:"flex",cursor:"pointer",onMouseOver:"desktop"===G?function(){return _(t)}:void 0,onMouseLeave:"desktop"===G?function(){return _(null)}:void 0,onTouchStart:"touchscreen"===G?function(){D(setTimeout((function(){return _(t)}),500))}:void 0,onTouchEnd:"touchscreen"===G?function(){clearTimeout(Y)}:void 0,onTouchMove:"touchscreen"===G?function(){clearTimeout(Y)}:void 0,onClick:function(){"touchscreen"===G&&X?_(null):R((0,S.UM)(e[t],A))}},n.getRowProps()),{},{children:[n.cells.map((function(e,t){return(0,y.jsx)(x.Z,{flex:.45,paddingX:t===n.cells.length-1?0:12,children:(0,y.jsx)(m.Z,{children:e.render("Cell")})},"item-prop-".concat(t))})),(0,y.jsx)(x.Z,{flex:.3,paddingX:0,children:t===X&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(E.Z,{icon:j.d,onClick:function(n){n.stopPropagation(),R((0,S.UM)(e[t],L))}}),(0,y.jsx)(E.Z,{icon:b.a,color:"danger",onClick:function(e){e.stopPropagation(),sn(U,n.original[r],r)}})]})})]}))}))})]})),(0,y.jsx)(h.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,y.jsx)(k.Z,{margin:"auto",page:tn.pageIndex+1,totalPages:en,onNextPage:un,onPreviousPage:on,onPageChange:function(n){return cn(n-1)}})})]})}},8710:function(n,e,t){t.d(e,{b:function(){return r}});var r=function(n,e){return Math.floor(n/e)}},2201:function(n,e,t){t(7313);var r=t(7908),i=t(6228),o=t(8225),u=t(9466),c=t(7202),s=t(6417);e.Z=function(n){var e=n.messageText,t=n.linkText,a=n.url,l=(0,c.Z)(),d=l.windowInnerWidth,f=l.windowInnerHeight;return(0,s.jsx)(r.Z,{position:"absolute",display:"flex",justifyContent:"center",top:f/2,left:0,paddingX:(0,i.Z)(4),width:d,children:(0,s.jsxs)(o.Z,{is:"h1",color:"#474d66",children:[e,t&&a&&(0,s.jsx)(u.rU,{to:a,className:"link blue",children:t})]})})}},497:function(n,e,t){t.d(e,{Il:function(){return o},YC:function(){return r},ub:function(){return i}});var r=992,i=768,o=480},8408:function(n,e){e.Z=function(){return"ontouchstart"in document.documentElement?"touchscreen":"desktop"}},2497:function(n,e,t){var r=t(9439),i=t(7313);e.Z=function(n,e){var t,o=(0,i.useState)(),u=(0,r.Z)(o,2),c=u[0],s=u[1],a=function(){if(null!==n&&void 0!==n&&n.current){var t,r=0;r=window.innerHeight-(null===(t=n.current)||void 0===t?void 0:t.offsetTop)-1,e&&(r-=e),s(r-70)}};return(0,i.useEffect)((function(){return a(),window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),(0,i.useEffect)((function(){a()}),[null===(t=n.current)||void 0===t?void 0:t.offsetTop]),c}},7202:function(n,e,t){var r=t(9439),i=t(7313);e.Z=function(){var n=(0,i.useState)({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight}),e=(0,r.Z)(n,2),t=e[0],o=e[1];return(0,i.useEffect)((function(){return window.addEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})})),function(){window.removeEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})}))}}),[]),t}},5048:function(n,e,t){t.r(e);var r=t(3433),i=t(5861),o=t(9439),u=t(7757),c=t.n(u),s=t(7313),a=t(6352),l=t(7908),d=t(4511),f=t(7202),h=t(5997),p=t(2682),g=t(7403),w=(t(8435),t(497)),Z=t(6174),v=t(2201),x=t(6417);e.default=function(){var n=(0,s.useState)([]),e=(0,o.Z)(n,2),t=e[0],u=e[1],m=(0,a.v9)(p.vn),j=(0,d.$)(["listing","ui"]).t,b=(0,f.Z)(),k=b.windowInnerWidth;b.windowInnerHeight;return(0,s.useEffect)((function(){(0,i.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h.Z.get("/listings/".concat(m));case 3:e=n.sent,console.log(e.data),u(e.data),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}),[]),(0,x.jsx)(l.Z,{children:t.length?(0,x.jsx)(g.Z,{source:k>w.Il?t:(0,Z.A)(t),setSource:u,labels:[j("district"),j("neighborhood")].concat((0,r.Z)(k>w.Il?[j("totalArea")+" m\xb2",j("builtArea")+" m\xb2"]:[])),detailRouteStructure:["listingdetail","clientId","estateId"],editRouteStructure:["editlisting","clientId","estateId"],deleteBaseUrl:"/listings"}):(0,x.jsx)(v.Z,{messageText:"".concat(j("noListings",{ns:"ui"}),", "),linkText:j("startAddingOne",{ns:"ui"}),url:"/newlisting"})})}},6174:function(n,e,t){t.d(e,{A:function(){return u}});var r=t(1413),i=t(5987),o=["totalArea","builtArea"],u=function(n){return n.map((function(n){n.totalArea,n.builtArea;var e=(0,i.Z)(n,o);return(0,r.Z)({},e)}))}},5997:function(n,e,t){t.d(e,{Y:function(){return c}});var r=t(1881),i=t.n(r),o=t(460),u=t(8121),c={withCredentials:!0,baseURL:"https://inmobitas.herokuapp.com/"},s=i().create(c);s.interceptors.response.use((function(n){return n}),(function(n){return n.response.data.authorizationError&&o.h.dispatch((0,u.P_)()),Promise.reject(n)})),e.Z=s},8435:function(){}}]);