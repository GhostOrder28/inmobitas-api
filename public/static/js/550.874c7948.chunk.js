"use strict";(self.webpackChunkinmobitas_client=self.webpackChunkinmobitas_client||[]).push([[550],{550:function(n,e,t){t.r(e);var i=t(3433),r=t(5861),o=t(9439),c=t(7757),a=t.n(c),u=t(7313),s=t(6352),l=t(4511),d=t(7890),f=t(8225),h=t(7908),g=t(7202),Z=t(5997),p=t(2682),v=t(9873),x=t(6267),w=t(3202),j=t(2649),m=t(9502),b=t(7403),P=t(497),k=t(6174),C=t(6417);e.default=function(n){var e=n.clientData,t=(0,u.useState)([]),c=(0,o.Z)(t,2),S=c[0],I=c[1],y=(0,s.v9)(p.vn),E=(0,d.UO)(),A=(0,l.$)(["client","listing"]).t,H=(0,g.Z)().windowInnerWidth;return(0,u.useEffect)((function(){(0,r.Z)(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.Z.get("/listings/".concat(y,"/").concat(E.clientid));case 3:e=n.sent,I(e.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[]),(0,C.jsxs)("div",{children:[e&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(f.Z,{is:"h1",size:800,margin:20,children:(0,v.Q6)(e.clientName)}),(0,C.jsx)(x.Z,{children:(0,C.jsxs)(w.Z,{children:[(0,C.jsxs)(j.Z,{children:[(0,C.jsx)(m.Z,{children:A("contactPhone",{ns:"client"})}),(0,C.jsx)(m.Z,{children:e.clientContactPhone})]}),(0,C.jsxs)(j.Z,{children:[(0,C.jsx)(m.Z,{children:A("clientAge",{ns:"client"})}),(0,C.jsx)(m.Z,{children:e.clientAge})]}),(0,C.jsxs)(j.Z,{children:[(0,C.jsx)(m.Z,{children:A("clientDetails",{ns:"client"})}),(0,C.jsx)(m.Z,{children:e.clientDetails})]})]})})]}),(0,C.jsxs)(h.Z,{overflow:"scroll",borderColor:"black",children:[(0,C.jsx)(f.Z,{is:"h2",size:700,fontWeight:500,margin:20,children:A("estates",{ns:"listing"})}),S&&(0,C.jsx)(b.Z,{source:H>P.Il?S:(0,k.A)(S),setSource:I,labels:[A("district",{ns:"listing"}),A("neighborhood",{ns:"listing"})].concat((0,i.Z)(H>P.Il?[A("totalArea",{ns:"listing"})+" m\xb2",A("builtArea",{ns:"listing"})+" m\xb2"]:[])),detailRouteStructure:["listingdetail","clientId","estateId"],editRouteStructure:["editlisting","clientId","estateId"],deleteBaseUrl:"/listings"})]})]})}},991:function(n,e,t){t(7313);var i=t(7908),r=t(6417);e.Z=function(n){var e=n.icon,t=n.onClick,o=n.color;return(0,r.jsx)(i.Z,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"1px solid #EDEFF5",onClick:t,height:"100%",width:"100%",children:(0,r.jsx)(e,{color:o})})}},7403:function(n,e,t){var i=t(5861),r=t(4942),o=t(1413),c=t(9439),a=t(7757),u=t.n(a),s=t(7313),l=t(7890),d=t(6352),f=t(2682),h=t(7908),g=t(6267),Z=t(5611),p=t(6020),v=t(3202),x=t(2649),w=t(9502),j=t(5818),m=t(1837),b=t(3819),P=t(5110),k=t(2497),C=t(8408),S=t(8474),I=t(9873),y=t(991),E=t(5997),A=t(9958),H=t(8710),M=t(6417);e.Z=function(n){var e=n.source,t=n.setSource,a=n.labels,T=n.detailRouteStructure,W=n.editRouteStructure,L=n.deleteBaseUrl,R=(0,l.s0)(),z=(0,s.useRef)(null),U=(0,k.Z)(z),O=(0,d.v9)(f.vn),X=(0,s.useState)(null),D=(0,c.Z)(X,2),F=D[0],N=D[1],B=(0,s.useState)(),Y=(0,c.Z)(B,2),_=Y[0],G=Y[1],Q=(0,s.useRef)(null);(0,S.Z)(Q,(function(){return N(null)}));var $=(0,C.Z)(),q=(0,s.useMemo)((function(){return e.map((function(n){return Object.keys(n).reduce((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},t,n[t]))}),{})}))}),[e]),J=(0,s.useMemo)((function(){return e.length?Object.keys(e[0]).filter((function(n){return!n.includes("Id")})).map((function(n,e){return{Header:a[e],accessor:n}})):[]}),[e]),K=(0,P.useTable)({columns:J,data:q,initialState:{pageIndex:0}},P.usePagination),V=K.getTableProps,nn=K.headerGroups,en=K.prepareRow,tn=K.page,rn=K.pageCount,on=K.state,cn=K.setPageSize,an=K.previousPage,un=K.nextPage,sn=K.gotoPage,ln=function(){var n=(0,i.Z)(u().mark((function n(i,r,o){var c,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.Z.delete("".concat(L,"/").concat(i,"/").concat(r));case 2:c=n.sent,a=e.filter((function(n){return n[o]!==c.data})),t(a),N(null);case 6:case"end":return n.stop()}}),n)})));return function(e,t,i){return n.apply(this,arguments)}}();(0,s.useEffect)((function(){if(U){var n=(0,H.b)(U,64);n>0&&cn(n)}}),[U]);return(0,M.jsxs)(h.Z,{children:[(0,M.jsxs)(g.Z,(0,o.Z)((0,o.Z)({flex:1},V()),{},{children:[(0,M.jsxs)(Z.Z,{display:"flex",userSelect:"none",children:[nn.map((function(n){return n.headers.map((function(n,e){return(0,M.jsx)(p.Z,(0,o.Z)((0,o.Z)({flex:.45},n.getHeaderProps()),{},{children:n.render("Header")}))}))})),(0,M.jsx)(p.Z,{flex:.3})]}),(0,M.jsx)(v.Z,{ref:z,height:U,children:tn.map((function(n,t){var i=Object.keys(n.original).find((function(n){return n.includes("Id")}));return en(n),(0,M.jsxs)(x.Z,(0,o.Z)((0,o.Z)({isHighlighted:F===t,color:"#3a3e58",display:"flex",cursor:"pointer",onMouseOver:"desktop"===$?function(){return N(t)}:void 0,onMouseLeave:"desktop"===$?function(){return N(null)}:void 0,onTouchStart:"touchscreen"===$?function(){G(setTimeout((function(){return N(t)}),500))}:void 0,onTouchEnd:"touchscreen"===$?function(){clearTimeout(_)}:void 0,onTouchMove:"touchscreen"===$?function(){clearTimeout(_)}:void 0,onClick:function(){"touchscreen"===$?F?N(null):R((0,I.UM)(e[t],T)):R((0,I.UM)(tn[t],T))}},n.getRowProps()),{},{children:[n.cells.map((function(e,t){return(0,M.jsx)(w.Z,{flex:.45,paddingX:t===n.cells.length-1?0:12,children:(0,M.jsx)(j.Z,{children:e.render("Cell")})},"item-prop-".concat(t))})),(0,M.jsx)(w.Z,{flex:.3,paddingX:0,children:t===F&&(0,M.jsxs)(h.Z,{ref:Q,display:"flex",width:"100%",height:"100%",children:[(0,M.jsx)(y.Z,{icon:m.d,onClick:function(n){n.stopPropagation(),R((0,I.UM)(tn[t],W))}}),(0,M.jsx)(y.Z,{icon:b.a,color:"danger",onClick:function(e){e.stopPropagation(),ln(O,n.original[i],i)}})]})})]}))}))})]})),(0,M.jsx)(h.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,M.jsx)(A.Z,{page:on.pageIndex+1,totalPages:rn,onNextPage:un,onPreviousPage:an,onPageChange:function(n){return sn(n-1)}})})]})}},8710:function(n,e,t){t.d(e,{b:function(){return i}});var i=function(n,e){return Math.floor(n/e)}},9958:function(n,e,t){var i=t(1413),r=t(5987),o=t(7313),c=t(9525),a=t(5818),u=t(6228),s=t(2520),l=t(7908),d=t(618),f=t(8756),h=t(9964),g=t(6417),Z=["isSelected","onPageChange","page"],p=function(n){var e=n.isSelected,t=n.onPageChange,l=n.page,d=(0,r.Z)(n,Z),f=(0,c.Z)().colors,h="string"===typeof l&&"..."===l,p=(0,o.useMemo)((function(){return e?{backgroundColor:f.blue50,color:f.blue400}:{}}),[e,f]),v=(0,o.useCallback)((function(){t(l)}),[l,t]);return h?(0,g.jsx)(a.Z,{paddingX:(0,u.Z)(1),paddingY:(0,u.Z)(1),minWidth:(0,u.Z)(4),textAlign:"center","aria-label":"Pagination overflow",children:l}):(0,g.jsx)(s.ZP,(0,i.Z)((0,i.Z)({"aria-current":e,"aria-label":"Page ".concat(l),onClick:v,minWidth:(0,u.Z)(4),paddingX:(0,u.Z)(1)},p),d))};e.Z=function(n){var e=n.onNextPage,t=n.onPageChange,i=n.onPreviousPage,r=n.page,o=void 0===r?1:r,c=n.totalPages,a=function(n,e){for(var t=[],i=n;i<=e;i++)t.push(i);return t}(1,c);return(0,g.jsx)(l.Z,{is:"nav",children:(0,g.jsxs)(l.Z,{is:"ul",height:50,display:"flex",alignItems:"center",padding:0,margin:0,children:[(0,g.jsx)(l.Z,{is:"li",listStyle:"none",padding:0,children:(0,g.jsx)(d.Z,{appearance:"minimal",icon:f.w,disabled:1===o,onClick:i})}),a.map((function(n,e){var i=n===o;return(0,g.jsx)(l.Z,{is:"li",listStyle:"none",children:(0,g.jsx)(p,{appearance:"minimal",isSelected:i,page:n,onPageChange:t,children:n})},"".concat(o,"-").concat(e))})),(0,g.jsx)(l.Z,{is:"li",listStyle:"none",padding:0,children:(0,g.jsx)(d.Z,{appearance:"minimal",icon:h.X,disabled:c?o===c:void 0,onClick:e})})]})})}},497:function(n,e,t){t.d(e,{Il:function(){return o},YC:function(){return i},ub:function(){return r}});var i=992,r=768,o=480},8474:function(n,e,t){var i=t(7313);e.Z=function(n,e){(0,i.useEffect)((function(){var t=function(t){var i;console.log("clicked!"),!t.target.isConnected||null!==n&&void 0!==n&&null!==(i=n.current)&&void 0!==i&&i.contains(t.target)||e()};return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}}),[e,n])}},8408:function(n,e){e.Z=function(){return"ontouchstart"in document.documentElement?"touchscreen":"desktop"}},2497:function(n,e,t){var i=t(9439),r=t(7313);e.Z=function(n,e){var t,o=(0,r.useState)(),c=(0,i.Z)(o,2),a=c[0],u=c[1],s=function(){if(null!==n&&void 0!==n&&n.current){var t,i=0;i=window.innerHeight-(null===(t=n.current)||void 0===t?void 0:t.offsetTop)-1,null!==e&&void 0!==e&&e.extraSpace&&(i-=e.extraSpace),null!==e&&void 0!==e&&e.ignorePaginationSpace?u(i):u(i-50)}};return(0,r.useEffect)((function(){return s(),window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[]),(0,r.useEffect)((function(){s()}),[null===(t=n.current)||void 0===t?void 0:t.offsetTop]),a}},7202:function(n,e,t){var i=t(9439),r=t(7313);e.Z=function(){var n=(0,r.useState)({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight}),e=(0,i.Z)(n,2),t=e[0],o=e[1];return(0,r.useEffect)((function(){return window.addEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})})),function(){window.removeEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})}))}}),[]),t}},6174:function(n,e,t){t.d(e,{A:function(){return c}});var i=t(1413),r=t(5987),o=["totalArea","builtArea"],c=function(n){return n.map((function(n){n.totalArea,n.builtArea;var e=(0,r.Z)(n,o);return(0,i.Z)({},e)}))}}}]);