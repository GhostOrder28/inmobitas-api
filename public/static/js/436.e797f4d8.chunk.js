"use strict";(self.webpackChunkinmobitas_client=self.webpackChunkinmobitas_client||[]).push([[436],{991:function(e,n,t){t(7313);var r=t(7908),i=t(6417);n.Z=function(e){var n=e.icon,t=e.onClick,o=e.color;return(0,i.jsx)(r.Z,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"1px solid #EDEFF5",onClick:t,height:"100%",width:"100%",children:(0,i.jsx)(n,{color:o})})}},7403:function(e,n,t){var r=t(5861),i=t(4942),o=t(1413),u=t(9439),c=t(7757),s=t.n(c),a=t(7313),l=t(7890),d=t(6352),f=t(2682),h=t(7908),p=t(6267),g=t(5611),w=t(6020),v=t(3202),Z=t(2649),x=t(9502),j=t(5818),m=t(1837),k=t(3819),b=t(3320),P=t(5110),C=t(2497),S=t(8408),I=t(9873),E=t(991),T=t(5997),y=t(8710),H=t(6417);n.Z=function(e){var n=e.source,t=e.setSource,c=e.labels,M=e.detailRouteStructure,R=e.editRouteStructure,L=e.deleteBaseUrl,W=(0,l.s0)(),z=(0,a.useRef)(null),U=(0,C.Z)(z),O=(0,d.v9)(f.vn),F=(0,a.useState)(null),X=(0,u.Z)(F,2),_=X[0],B=X[1],N=(0,a.useState)(),A=(0,u.Z)(N,2),D=A[0],G=A[1],Y=(0,S.Z)(),$=(0,a.useMemo)((function(){return n.map((function(e){return Object.keys(e).reduce((function(n,t){return(0,o.Z)((0,o.Z)({},n),{},(0,i.Z)({},t,e[t]))}),{})}))}),[n]),q=(0,a.useMemo)((function(){return n.length?Object.keys(n[0]).filter((function(e){return!e.includes("Id")})).map((function(e,n){return{Header:c[n],accessor:e}})):[]}),[n]),J=(0,P.useTable)({columns:q,data:$,initialState:{pageIndex:0}},P.usePagination),K=J.getTableProps,Q=J.headerGroups,V=J.prepareRow,ee=J.page,ne=J.pageCount,te=J.state,re=J.setPageSize,ie=J.previousPage,oe=J.nextPage,ue=J.gotoPage,ce=function(){var e=(0,r.Z)(s().mark((function e(r,i,o){var u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.Z.delete("".concat(L,"/").concat(r,"/").concat(i));case 2:u=e.sent,c=n.filter((function(e){return e[o]!==u.data})),t(c),B(null);case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){if(U){var e=(0,y.b)(U,64);e>0&&re(e)}}),[U]);return(0,H.jsxs)(h.Z,{children:[(0,H.jsxs)(p.Z,(0,o.Z)((0,o.Z)({flex:1},K()),{},{children:[(0,H.jsxs)(g.Z,{display:"flex",userSelect:"none",children:[Q.map((function(e){return e.headers.map((function(e,n){return(0,H.jsx)(w.Z,(0,o.Z)((0,o.Z)({flex:.45},e.getHeaderProps()),{},{children:e.render("Header")}))}))})),(0,H.jsx)(w.Z,{flex:.3})]}),(0,H.jsx)(v.Z,{ref:z,height:U,children:ee.map((function(e,t){var r=Object.keys(e.original).find((function(e){return e.includes("Id")}));return V(e),(0,H.jsxs)(Z.Z,(0,o.Z)((0,o.Z)({isHighlighted:_===t,color:"#3a3e58",display:"flex",cursor:"pointer",onMouseOver:"desktop"===Y?function(){return B(t)}:void 0,onMouseLeave:"desktop"===Y?function(){return B(null)}:void 0,onTouchStart:"touchscreen"===Y?function(){G(setTimeout((function(){return B(t)}),500))}:void 0,onTouchEnd:"touchscreen"===Y?function(){clearTimeout(D)}:void 0,onTouchMove:"touchscreen"===Y?function(){clearTimeout(D)}:void 0,onClick:function(){"touchscreen"===Y&&_?B(null):W((0,I.UM)(n[t],M))}},e.getRowProps()),{},{children:[e.cells.map((function(n,t){return(0,H.jsx)(x.Z,{flex:.45,paddingX:t===e.cells.length-1?0:12,children:(0,H.jsx)(j.Z,{children:n.render("Cell")})},"item-prop-".concat(t))})),(0,H.jsx)(x.Z,{flex:.3,paddingX:0,children:t===_&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(E.Z,{icon:m.d,onClick:function(e){e.stopPropagation(),W((0,I.UM)(n[t],R))}}),(0,H.jsx)(E.Z,{icon:k.a,color:"danger",onClick:function(n){n.stopPropagation(),ce(O,e.original[r],r)}})]})})]}))}))})]})),(0,H.jsx)(h.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,H.jsx)(b.Z,{margin:"auto",page:te.pageIndex+1,totalPages:ne,onNextPage:oe,onPreviousPage:ie,onPageChange:function(e){return ue(e-1)}})})]})}},8710:function(e,n,t){t.d(n,{b:function(){return r}});var r=function(e,n){return Math.floor(e/n)}},2201:function(e,n,t){t(7313);var r=t(7908),i=t(6228),o=t(8225),u=t(9466),c=t(7202),s=t(6417);n.Z=function(e){var n=e.messageText,t=e.linkText,a=e.url,l=(0,c.Z)(),d=l.windowInnerWidth,f=l.windowInnerHeight;return(0,s.jsx)(r.Z,{position:"absolute",display:"flex",justifyContent:"center",top:f/2,left:0,paddingX:(0,i.Z)(4),width:d,children:(0,s.jsxs)(o.Z,{is:"h1",color:"#474d66",children:[n,t&&a&&(0,s.jsx)(u.rU,{to:a,className:"link blue",children:t})]})})}},8408:function(e,n){n.Z=function(){return"ontouchstart"in document.documentElement?"touchscreen":"desktop"}},2497:function(e,n,t){var r=t(9439),i=t(7313);n.Z=function(e,n){var t,o=(0,i.useState)(),u=(0,r.Z)(o,2),c=u[0],s=u[1],a=function(){if(null!==e&&void 0!==e&&e.current){var t,r=0;r=window.innerHeight-(null===(t=e.current)||void 0===t?void 0:t.offsetTop)-1,n&&(r-=n),s(r-70)}};return(0,i.useEffect)((function(){return a(),window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),(0,i.useEffect)((function(){a()}),[null===(t=e.current)||void 0===t?void 0:t.offsetTop]),c}},7202:function(e,n,t){var r=t(9439),i=t(7313);n.Z=function(){var e=(0,i.useState)({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight}),n=(0,r.Z)(e,2),t=n[0],o=n[1];return(0,i.useEffect)((function(){return window.addEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})})),function(){window.removeEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})}))}}),[]),t}},5436:function(e,n,t){t.r(n);var r=t(5861),i=t(9439),o=t(7757),u=t.n(o),c=t(7908),s=t(6352),a=t(4511),l=t(7313),d=t(5997),f=t(2682),h=(t(8435),t(7403)),p=t(2201),g=t(6417);n.default=function(){var e=(0,l.useState)([]),n=(0,i.Z)(e,2),t=n[0],o=n[1],w=(0,l.useState)(!1),v=(0,i.Z)(w,2),Z=v[0],x=v[1],j=(0,s.v9)(f.vn),m=(0,a.$)(["client","ui"]).t;return(0,l.useEffect)((function(){(0,r.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.get("/clients/".concat(j));case 3:(n=e.sent).data.length?o(n.data):x(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[j]),(0,g.jsxs)(c.Z,{overflow:"scroll",borderColor:"black",children:[Z&&(0,g.jsx)(p.Z,{messageText:m("noClients",{ns:"ui"})+", ",linkText:m("startAddingOne",{ns:"ui"}),url:"/newlisting"}),t.length?(0,g.jsx)(h.Z,{source:t,setSource:o,labels:[m("name"),m("phone")],detailRouteStructure:["clientdetail","clientId"],editRouteStructure:["editclient","clientId"],deleteBaseUrl:"/clients"}):""]})}},5997:function(e,n,t){t.d(n,{Y:function(){return c}});var r=t(1881),i=t.n(r),o=t(460),u=t(8121),c={withCredentials:!0,baseURL:"https://localhost:3001/"},s=i().create(c);s.interceptors.response.use((function(e){return e}),(function(e){return e.response.data.authorizationError&&o.h.dispatch((0,u.P_)()),Promise.reject(e)})),n.Z=s},8435:function(){}}]);